{% extends 'base.html.twig' %}

{% block title %}Hello SiteController!{% endblock %}

{% block body %}
    
    {# on affiche le formulaire #}
    {{ form_start(form) }}
        {{ form_widget(form) }}
    {{ form_end(form) }}

    {# s'il y a une recherche #}
    {% if datas | length > 0 %}
        {% for key,data in datas %}
            {% set dureeEnSecondes = data.routes[0].summary.travelTimeInSeconds %}
            {% set hours = (dureeEnSecondes / 3600) | round %}
            {% set minutes = (dureeEnSecondes / 60) | round %}

            Centre: {{ shops[key].name }}
            Distance: {{ data.routes[0].summary.lengthInMeters / 1000 }} KMS
            Temps de trajet: 
                {% if hours > 0 %}
                    {{ hours }} H
                {% endif %}
                {{ minutes }} min
        {% endfor %}
    {% endif %}

{% endblock %}
